@model IEnumerable<Tidbeat.Models.Report>
@using Microsoft.AspNetCore.Mvc.Localization;
@inject IViewLocalizer Localizer

@{
    ViewData["Title"] = "Lista de denúncias";
}

<h1 class="text-start ms-3" style="color: #6610F2; margin-top: 72px;">@Localizer["filters"]</h1>

<!-- Form -->
<form method="get" action="@Url.Action("Index", "Reports")">
    <div class="row">
        <div class="form-group col-md-4">
            <label for="name" class="row justify-content-left ms-1">@Localizer["user_name"]</label>
            <input type="text" class="form-control" id="name" name="name" placeholder="@Localizer["search"]" value="@ViewData["NameFilter"]">
        </div>
        <div class="form-group col-md-4">
            <label for="type" class="row justify-content-left ms-1">@Localizer["type"]</label>
            <select class="form-control" id="type" name="type">
                <option value="">@Localizer["all_types"]</option>
                <option value="user">@Localizer["user"]</option>
                <option value="post">@Localizer["post"]</option>
                <option value="comment">@Localizer["comment"]</option>
            </select>
        </div>
        <div class="form-group col-md-4">
            <label for="reason" class="row justify-content-left ms-1">@Localizer["reason"]</label>
            <select class="form-control" id="reason" name="reason">
                <option value="">@Localizer["all_reasons"]</option>
                <option value="gore">@Localizer["gore"]</option>
                <option value="hate">@Localizer["hate"]</option>
                <option value="other">@Localizer["other"]</option>
                <option value="sexual">@Localizer["sexual"]</option>
                <option value="innappropriate">@Localizer["innappropriate"]</option>
            </select>
        </div>
    </div>
    <div class="row mt-3">
        <div class="form-group col-md-4">
            <label for="state" class="row justify-content-left ms-1">@Localizer["state"]</label>
            <select class="form-control" id="state" name="state">
                <option value="">@Localizer["all_states"]</option>
                <option value="created">@Localizer["created"]</option>
                <option value="open">@Localizer["open"]</option>
                <option value="close">@Localizer["closed"]</option>
            </select>
        </div>
        <div class="form-group col-md-4">
            <label for="sort" class="row justify-content-left ms-1">@Localizer["sort"]</label>
            <select class="form-control" id="sort" name="sort">
                <option value="new" selected>@Localizer["new"]</option>
                <option value="old">@Localizer["old"]</option>
            </select>
        </div>
        <div class="form-group col-md-4 mt-3">
            <label></label>
            <button type="submit" class="btn btn-primary btn-block">
                <img src="/images/SearchIcon.png" alt="Procurar" height="37" width="45" />
            </button>
        </div>
    </div>
</form>

<div class="border border-1 border-light-grey my-4"></div>

<h2 class="text-start ms-3 my-4">@Localizer["reports"]</h2>

<!-- Table -->
<table class="table table-striped table-bordered">
    <thead class="thead-dark" style="background-color: #6610F2; color: white;">
        <tr>
            <th>@Localizer["id"]</th>
            <th>@Localizer["reported_user"]</th>
            <th>@Localizer["report_type"]</th>
            <th>@Localizer["report_reason"]</th>
            <th>@Localizer["report_state"]</th>
            <th>@Localizer["report_date"]</th>
            <th>@Localizer["see"]</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>@Html.DisplayFor(modelItem => item.Id)</td>
                <td>@Html.DisplayFor(modelItem => item.UserReported.FullName)</td>
                <td>@Html.DisplayFor(modelItem => item.ReportItemType)</td>
                <td>@Html.DisplayFor(modelItem => item.Reason)</td>
                <td>@Html.DisplayFor(modelItem => item.Status)</td>
                <td>@Html.DisplayFor(modelItem => item.Date)</td>
                <td><a class="btn btn-sm btn-primary" asp-action="Details" asp-route-id="@item.Id">@Localizer["details"]</a></td>
            </tr>
        }

        @if (!Model.Any())
        {
            <tr>
                <td colspan="7">@Localizer["not_found"]</td>
            </tr>
        }
    </tbody>
</table>